\documentclass[12pt]{report}
\usepackage[top=23mm,bottom=23mm,left=23mm,right=23mm]{geometry}
\usepackage[dvipsnames]{xcolor}
\usepackage{fancyhdr, lastpage}
\usepackage{times}
\usepackage{chapterbib}
\usepackage[sectionbib]{natbib}
\bibpunct{(}{)}{;}{a}{,}{,}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{subfigure}
\usepackage[footnotesize, bf]{caption}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{setspace}
\usepackage[small,compact]{titlesec}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{wrapfig}
% \usepackage{minitoc}  Was not compatible with anything
\usepackage{array}
\usepackage{tikz}
\usetikzlibrary{matrix}
\usepackage{listings}
\usepackage{enumerate}  % for enumerating with a), b) etc...
\usepackage{caption}    % for having enumertion in a caption 
\usepackage{cleveref}   % So multiple references will auto format themself
\usepackage{algorithm2e}
%\usepackage{hyperref}   % This allows for hyperlinks in the table of content
%\hypersetup{
%  colorlinks,
%  citecolor=black,
%  filecolor=black,
%  linkcolor=black,
%  urlcolor=black
%}

\usepackage[mathlines]{lineno}  % Line numbers in document...
%% parameters for lineno to work nicely
\linenumbers

%% Supress annoying warnings
%\usepackage{silence}
%\WarningFilter{latex}{Text page}

\makeatletter
% Make a copy of macros responsible for entering display math mode
\let\start@align@nopar\start@align
\let\start@gather@nopar\start@gather
\let\start@multline@nopar\start@multline
% Add the "empty line" command to the macros
\long\def\start@align{\par\start@align@nopar}
\long\def\start@gather{\par\start@gather@nopar}
\long\def\start@multline{\par\start@multline@nopar}
\makeatother

%% Thereom and Proposition stuff
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{prop}[thm]{Proposition}

%Folder paths that contain graphics
\graphicspath{
  {./}
  {Chapters/1_introduction/Figures/}
  {Chapters/3_numerics/Figures/}
  {Chapters/4_simulation/Figures/}
}

%\usepackage[colorlinks=true,linkcolor=blue]{hyperref}
% PDF hyper-linking (set colors to black for printing)
%\usepackage[ps2pdf=true,colorlinks]{hyperref}
%\usepackage[figure,table]{hypcap}
%\hypersetup{
%	bookmarksnumbered,
%	pdfstartview={FitH},
%	citecolor={black},
%	linkcolor={black},
%	urlcolor={black},
%	pdfpagemode={UseOutlines}
%}

\pdfinfo{
/Author (Eric M. Jalbert, 2015)
/Title (Comparison of Semi-Implicit and Fully-Implicit Time Integration Methods for a Highly Degenerate Diffusion-Reaction Equation Coupled with an ODE)
/Subject (Comparison of Semi-Implicit and Fully-Implicit Time Integration Methods for a Highly Degenerate Diffusion-Reaction Equation Coupled with an ODE)
}

%Paragraph symmetries...
\setlength{\parskip}{10pt}
\setlength{\parindent}{0pt}
\setlength{\parsep}{0pt}


\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{1}
%\setcounter{minilofdepth}{2}
\renewcommand{\abstractname}{\Large ABSTRACT}
\renewcommand{\bibname}{References}
%\renewcommand\bibsection{}
%\renewcommand{\bibsep}{0pt}

\setlength{\headheight}{15pt}

\fancypagestyle{custom}{
\lhead{\textit{E.Jalbert, 2014}}
\rhead{\textit{COMPARISON SEMI- FULLY-IMPLICIT METHODS}}
}

\fancypagestyle{normal}{
\lhead{\textit{\rightmark}}
\rhead{\textit{\leftmark}}
}

\fancypagestyle{chp3-5}{
\lhead{\textit{3.5. COMPARE OF SEMI-FULLY-IMPLICIT METHODS}}
\rhead{\textit{CHAPTER 3. NUMERICAL METHODS}}
}

\fancypagestyle{References}{
\lhead{}
\rhead{\textit{REFERENCES}}
}

%%%%%%%%% If I have appendies, add the fancy page styles 
%%%%%%%%% like the example below
%\fancypagestyle{AppendixA}{
%\lhead{}
%\rhead{\textit{APPENDIX A: Default Simulation Parameters}}
%}

\begin{document}

%PreliminarySections
\pagenumbering{roman}
\input{Prelims/titlePage}
\input{Prelims/Abstract}

\setcounter{page}{3}
%\input{Prelims/Dedication}
%\input{Prelims/Acknowledgements}
%%\dominitoc
\setlength{\parskip}{0ex plus 0.5ex minus 0.2ex}

\tableofcontents
\pagebreak
%\listoffigures
%\listoftables
\setlength{\parskip}{10pt}


%%%Main Texts
\pagebreak
\pagestyle{normal}
\pagenumbering{arabic}
\doublespacing
%\onehalfspacing

\chapter{Introductions}
\input{Chapters/1_introduction/1_background}
\input{Chapters/1_introduction/2_objectives}
\input{Chapters/1_introduction/3_outline}
\chapter{Model Definition}
%\input{Chapters/2_model/1_history}
\input{Chapters/2_model/2_model_description}
\input{Chapters/2_model/3_non_dimension}
\chapter{Numerical Methods}
\input{Chapters/3_numerics/1_discretization}
\input{Chapters/3_numerics/2_solving_method}
\input{Chapters/3_numerics/3_implementation}
\input{Chapters/3_numerics/4_method_validation}
\pagestyle{chp3-5} % Since the chapter name is too long for the header.
\input{Chapters/3_numerics/5_comparison}
\chapter{Simulation Results}
\pagestyle{normal}
\input{Chapters/4_simulation/2_typical_simulation}
\input{Chapters/4_simulation/3_travelling_wave}
\input{Chapters/4_simulation/4_spatial_effects}
\chapter{Conclusions}
\input{Chapters/5_conclusions/1_lessons}
\input{Chapters/5_conclusions/2_future_work}


\newpage
\pagestyle{References}
\chapter*{References}
\addcontentsline{toc}{chapter}{\hspace{16pt} Bibliography}
\titlespacing{\section}{0pt}{*0}{*0}
\renewcommand{\bibname}{}
\renewcommand\bibsection{}
\titlespacing{\chapter}{0pt}{*0}{*0}
\titlespacing{\section}{0pt}{*0}{*0}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\nocite*
\bibliographystyle{apalike}
\bibliography{ThesisReferences}

%\newpage
%\pagestyle{normal}

\appendix
\input{Appendix/parameter_choice}
\input{Appendix/pretty_code}


%\newpage
%\thispagestyle{custom}
%\mbox{}

\end{document}
